<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-securit"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/default"
>

<th:block layout:fragment="css">
  <link rel="stylesheet" th:href="@{/css/reservation/guest/cancel.css}">
</th:block>

<th:block layout:fragment="js">
  <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"></script>
  <script type="text/javascript" defer th:src="@{/js/reservation/guest/cancel-confirm.js}"></script>
</th:block>


<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<th:block layout:fragment="content">
  <input type="hidden" id="csrf" th:value="${_csrf.token}"/>
  <input type="hidden" id="payment-id" th:value="${reservationRPDto.paymentId}">

  <div class="guest-reservation-cancel__box">
    <div class="guest-reservation-cancel__box2">
      <div class="guest-reservation-cancel__content">
        <div class="guest-reservation-cancel__title">이 내용이 맞나요?</div>

        <div class="guest-reservation-cancel__small-box">

          <div class="guest-reservation-cancel__sub-title-box">
            <div class="guest-reservation-cancel__sub-title-content">
              <div class="guest-reservation-cancel__sub-title">결제한 요금</div>
              <div th:text="'₩' + ${#numbers.formatInteger(reservationRPDto.price,3,'COMMA')}">요금 얼마</div>
            </div>
            <div>전액 환불</div>
          </div>

          <div class="guest-reservation-cancel__sub-title-box">
            <div class="guest-reservation-cancel__sub-title-content">
              <div class="guest-reservation-cancel__sub-title">수수료</div>
              <div th:text="'₩' + ${#numbers.formatInteger(reservationRPDto.commission,3,'COMMA')}">요금 얼마</div>
            </div>
            <div>환불 불가</div>
          </div>

          <!--          <div class="guest-reservation-cancel__sub-title-box">-->
          <!--            <div class="guest-reservation-cancel__sub-title-content">-->
          <!--              <div class="guest-reservation-cancel__sub-title">쿠폰</div>-->
          <!--              <div>요금 얼마</div>-->
          <!--            </div>-->
          <!--            <div>전액이냐 50%냐</div>-->
          <!--          </div>-->

          <!--          <div class="guest-reservation-cancel__sub-title-box">-->
          <!--            <div class="guest-reservation-cancel__sub-title-content">-->
          <!--              <div class="guest-reservation-cancel__sub-title">마일리지</div>-->
          <!--              <div>요금 얼마</div>-->
          <!--            </div>-->
          <!--            <div>전액이냐 50%냐</div>-->
          <!--          </div>-->

          <div>
            <div class="guest-reservation-cancel__sub-title-content">
              <div class="guest-reservation-cancel__sub-title">총 환불 금액</div>
              <div
                  th:text="'₩' + ${#numbers.formatInteger((reservationRPDto.price - reservationRPDto.commission),3,'COMMA')}">
                요금 얼마
              </div>
            </div>
          </div>

        </div>

        <input type="hidden" class="guest-reservation-cancel__reservation-id"
               th:value="${reservationRPDto.reservationId}">
        <div class="guest-reservation-cancel__btn">
          <button class="guest-reservation-cancel__back-btn">뒤로</button>
          <button class="guest-reservation-cancel__next-btn">예약 취소</button>
        </div>


      </div>


      <div class="guest-reservation-cancel__reservation-box">
        <div class="guest-reservation-cancel__room-info">
          <div>
            <div class="guest-reservation-cancel__room-title" th:text="${reservationRPDto.title}">숙소이름</div>
            <div class="guest-reservation-cancel__room-address"
                 th:text="${reservationRPDto.address + reservationRPDto.subAddress}">숙소주소
            </div>
          </div>
          <div class="guest-reservation__room-img-box">
            <img th:src="${roomImages.get(0).roomImg}" class="guest-reservation-cancel__room-img">
          </div>
        </div>
        <div class="guest-reservation-cancel__info-align">
          <i class="fas fa-user-friends"></i>
          <div class="guest-reservation-cancel__content">
            <span
                th:text="|성인 : ${reservationRPDto.adult} 명, 아동 : ${reservationRPDto.kid} 명, 유아 : ${reservationRPDto.infant}|">인원 몇 명</span>
            <div class="guest-reservation-cancel__total-guest"
                 th:text="|총 인원 : ${reservationRPDto.adult + reservationRPDto.kid + reservationRPDto.infant}|"></div>
          </div>
        </div>
        <div class="guest-reservation-cancel__info-align">
          <i class="far fa-calendar-alt"></i>
          <div class="guest-reservation-cancel__content">
            <span th:text="${#temporals.format(reservationRPDto.checkIn,'yyyy년 M월 dd일 ')}">예약날짜</span> ~
            <span th:text="${#temporals.format(reservationRPDto.checkOut,'yyyy년 M월 dd일 ')}">예약날짜</span>
          </div>
        </div>
        <div class="guest-reservation-cancel__price-info">
          <div class="guest-reservation-cancel__info-align2">
            <span class="guest-reservation-cancel__price-title">결제한 금액</span>
            <div class="guest-reservation-cancel__info-content">
              <span th:text="'₩' + ${#numbers.formatInteger(reservationRPDto.price,3,'COMMA')}"> 111111</span>
            </div>
          </div>
          <div class="guest-reservation-cancel__info-align">
            <span class="guest-reservation-cancel__total-refund">총 환불금액 (수수료 제외)</span>
            <div class="guest-reservation-cancel__info-content">
              <span
                  th:text="'₩' + ${#numbers.formatInteger((reservationRPDto.price - reservationRPDto.commission),3,'COMMA')}">￦ 111111</span>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>

</th:block>
</body>
</html>